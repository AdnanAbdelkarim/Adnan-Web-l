 <!DOCTYPE html>
 <!-- 
 	Adnan Abdelkarim
 	60100667
 	Project 
 -->
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Home</title>
		<link rel="stylesheet" type="text/css" href="../css/subscribe.css">
		<link rel="stylesheet" type="text/css" href="../css/reset.css">
		<noscript>Please Run JS</noscript>
		<script type="text/javascript">
			function validateForm(){
				let usernameValid = usernamevalidation();
				let fullnameValid = fullnamevalidation();
				let passwordvalid = passwordvalidation();
				let emailvalid = emailvalidation();
				let phonevalid = phonevalidation();
				let buildingvalid = buildingvalidation();
				let agevalid = agevalidation();
				let validform = false;
				if (usernameValid && fullnameValid && passwordvalid && emailvalid && phonevalid && buildingvalid && agevalid){
					validform = true;
				}
				return validform
			}
			function usernamevalidation(){
				var username = document.getElementById("Username");
				var usernameerror = document.getElementById("usernameError");
				let validuserName;
				if (isNaN(username.value)){
					username.style.border = "";
					usernameerror.innerHTML = "";
					usernameerror.style.color = "black";
					validuserName = true;
				}
				else if (username.value == ""){
					username.style.border = "2px solid red";
					usernameerror.innerHTML = "Please enter your Username";
					usernameerror.style.color = "red";
					validuserName = false;
				}
				else{
					username.style.border = "2px solid red";
					usernameerror.innerHTML = "Please enter your Username";
					usernameerror.style.color = "red";
					validuserName = false;
				}
				return validuserName;
			}
			

			function fullnamevalidation(){
				var fullname = document.getElementById("Fullname");
				var fullnameerror = document.getElementById("fullnameError");
				let validfullName;
				if (isNaN(fullname.value)){
					fullname.style.border = "";
					fullnameerror.innerHTML = "";
					fullnameerror.style.color = "black";
					validfullName = true;
				}
				else if (fullname.value == ""){
					fullname.style.border = "2px solid red";
					fullnameerror.innerHTML = "Please enter your Full Name";
					fullnameerror.style.color = "red";
					validfullName = false;
				}	
				
				else{
					fullname.style.border = "2px solid red";
					fullnameerror.innerHTML = "Please enter your Full Name";
					fullnameerror.style.color = "red";
					validfullName = false;
				}
				return validfullName;
		}
			function passwordvalidation(){ // STILL HAVE TO MAKE THE 1 letter, number and special character thing!!!!!
				var password = document.getElementById("Pass");
				var passwordconfirm = document.getElementById("Pass1");
				var check = document.getElementById("Check");
				var passerror = document.getElementById("passError");
				var passerror1 = document.getElementById("pass1Error");
				var passlen = password.value.length;
				var passlen1 = passwordconfirm.value.length;
				let validpass;

				if (password.value == ""){
					password.style.border = "2px solid red";
					passerror.innerHTML = "Pleas Type a Password";
					passerror.style.color = "red";
					validpass = false;
				}
				else if (passlen < 8){
					password.style.border = "2px solid red";
					passerror.innerHTML = "Password should be at least 8 characters";
					passerror.style.color = "red";
					validpass = false;
				}
				else if (!password.value.match(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/)) {
    				password.style.border = "2px solid red";
    				passerror.innerHTML = "Password should contain at least one letter, one number, and one special character";
    				passerror.style.color = "red";
    				validpass = false;
				}
				else if (password.value != passwordconfirm.value){
					password.style.border = "2px solid red";
					passerror.innerHTML = "Passwords do not match!";
					validpass = false;
					validpass1 = false;
				}
				else{
					password.style.border = "";
					passerror.innerHTML = "";
					passerror.style.color = "black";
					validpass = true;
				}
				if (check.checked){
					password.type = "text";
				} else{
					password.type = "password";
				}

				return validpass
			}
			function emailvalidation(){
				var email = document.getElementById("Email");
				var emailconfirm = document.getElementById("Email1");
				var emailerror = document.getElementById("Emailerror");
				var emailerror1 = document.getElementById("Emailerror1");
				let validemail; // email must contain the @ character, followed by at least two other characters, followed by .edu.qa at the end
				if (email.value == ""){
					email.style.border = "2px solid red";
					emailerror.innerHTML = "Please type Email";
					emailerror.style.color = "red";
					validemail = false;
				}
				else if (!/^[\w-\.]+@([\w-]+\.)+edu\.qa$/.test(email.value)){
        			email.style.border = "2px solid red";
			        emailerror.innerHTML = "Your email should end with edu.qa";
			        emailerror.style.color = "red";
        			validemail = false;
        		}
				else{
					email.style.border = "";
					emailerror.innerHTML = "";
					emailerror.style.color = "black";
					validemail = true;
				}
				if (email.value != emailconfirm.value){
					email.style.border = "2px solid red";
					emailerror.innerHTML = "Emails do not match";
					emailerror.style.color = "red";
					validemail = false;
				}
				return validemail;
			}
			function phonevalidation(){
				var phone = document.getElementById("Phonenum");
				var phoneerror = document.getElementById("phoneError");
				var phonelen = phone.value.length;
				let validphone;
				if (phone.value == ""){
					phone.style.border = "2px solid red";
					phoneerror.innerHTML = "Please Enter a Phone Number";
					phoneerror.style.color = "red";
					validphone = false;
				}
				if (isNaN(phone.value)){
					phone.style.border = "2px solid red";
					phoneerror.innerHTML = "Phone Number should be digits";
					phoneerror.style.color = "red";
					validphone = false;
				}
				if (phonelen < 12){
					phone.style.border = "2px solid red";
					phoneerror.innerHTML = "Please enter a valid Qatari number";
					phoneerror.style.color = "red";
					validphone = false;

				}
				else if(phonelen > 12){
					phone.style.border = "2px solid red";
					phoneerror.innerHTML = "Please write a valid Qatari number";
					phoneerror.style.color = "red";
					validphone = false;
				}
				else{
					phone.style.border = "";
					phoneerror.innerHTML = "";
					phoneerror.style.color = "black";
					validphone = true;
				}
				return validphone;
			}
			function buildingvalidation(){
				var building = document.getElementById("Buildingnumber");
				var buildingerror = document.getElementById("buildingError");
				let validbuilding;
				if (building.value == ""){
					building.style.border = "2px solid red";
					buildingerror.innerHTML = "Please Enter a building Number";
					buildingerror.color = "red";
					validbuilding = false;		
				}
				else if (building.value < 1){
					building.style.border = "2px solid red";
					buildingerror.innerHTML = "Building Number should be between 1 & 666";
					buildingerror.style.color = "red";
					validbuilding = false;
				}
				else if (building.value > 666){
					building.style.border = "2px solid red";
					buildingerror.innerHTML = "Building Number should be between 1 & 666";
					buildingerror.style.color = "red";
					validbuilding = false;
				}
				else{
					building.style.border = "";
					buildingerror.innerHTML = "";
					buildingerror.color = "black";
					validbuilding = true;
				}
				return validbuilding;
			}
			function agevalidation(){
				var dob = parseInt(document.getElementById("DOB").value);
				var age = document.getElementById("Age");
				var doberror = document.getElementById("dobError");
				var ageerror = document.getElementById("ageError");
				var realage = 2023 - dob; 
				let validage;
				if (age.value == ""){
					age.style.border = "2px solid red";
					ageerror.innerHTML = "Please enter your age"
					ageerror.style.color = "red";
					validage = false
				}
				else if (age.value < 18){
					age.style.border = "2px solid red";
					ageerror.innerHTML = "You must be older than 18!"
					ageerror.style.color = "red";
					validage = false
				}
				else if (age.value > 100){
					age.style.border = "2px solid red";
					ageerror.innerHTML = "Sorry, you can't be older than 100"
					ageerror.style.color = "red";
					validage = false
				}
				else if (age.value != realage){
					age.style.border = "2px solid red";
					ageerror.innerHTML = "Your age does not meet your date of birth"
					ageerror.style.color = "red";
					validage = false
				}
				else{
					age.style.border = "";
					ageerror.innerHTML = ""
					ageerror.style.color = "black";
					validage = true;	
				}
				return validage;
			}
		</script>
	</head>
	<body>
		<header>
			<img id="logo" src="../images/logo.png">
		</header>
		<nav id="mainnav">
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="cars.html">Cars</a></li>
				<li><a href="contact.html">Contact Us</a></li>
				<li><a href="subscribe.html">Subscribe</a></li>
			</ul>
		</nav>
		<h1>Join Our Online Service. Get your vehicle delivered to your doorstep!</h1>
		<form id="userinfo" action="https://sit.cna-qatar.edu.qa/processform.php" method="POST" onsubmit="return validateForm()">
			<fieldset id="user">
				<br>
				<legend>User Information</legend>
				<div class="row">
					<label for="fullname">Full Name</label>
					<input type="text" name="fullname" id="Fullname" placeholder="Full Name" onblur="fullnamevalidation()">
					<span id="fullnameError"></span>
				</div>
				<br>
				<div>
	               <label for="username">Username</label>
	               <input name="username" id="Username" type="text" placeholder="Username" onblur="usernamevalidation()"/>
	               <span id="usernameError"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="Passowrd">Password</label>
	               <input name="pass" id="Pass" type="password" placeholder="Password" onblur="passwordvalidation()" />
	               <input type="checkbox" id="Check" onclick="passwordvalidation()">
	               <span id="passError"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="Passowrd">Confirm Password</label>
	               <input name="pass" id="Pass1" type="password" placeholder="Password" onblur="passwordvalidation()" />
	               <span id="pass1Error"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="email">E-Mail</label>
	               <input name="email" id="Email" type="email" placeholder="E-mail"  onblur="emailvalidation()" />
	               <span id="Emailerror"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="email">Confirm E-Mail</label>
	               <input name="email" id="Email1" type="email" placeholder="E-mail Confirmation" onblur="emailvalidation()" />
	               <span id="Emailerror1"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label id="phonenum">Phone Number</label>
	               <input type="tel" name="phonenum" id="Phonenum" value="+974" onblur="phonevalidation()" /><span id="phoneError"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="">Date of Birth</label>
	               <input type="Date" name="date" id="DOB"/>
	               <span id="dobError"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="age">Age</label>
	               <input type="text" name="age" id="Age" onblur="agevalidation()" />
	               <span id="ageError"></span>
			</fieldset>
	            </div>
			<fieldset id="shipping">
				<br>
				<legend id="ship">Shipping Address</legend>
				<div class="row">
	               <label for="buildingnumber">Building Number</label>
	               <input name="buildingnumber" id="Buildingnumber" type="text" placeholder="Building Number" onblur="buildingvalidation()" />
	               <span id="buildingError"></span>
	            </div>
	            <br>
	            <div class="row">
	               <label for="streetname">Street Name</label>
	               <input type="text" name="streetname" id="Streetname" placeholder="Street Name" />
	            </div>
	            <br>
            	<div class="row">
	               <label id="cityname">City Name</label>
	               <select id="Cityname" name="cityname" >
	                  <option value="Doha">Doha</option>
	                  <option value="Al-Wakra">Al-Wakra</option>
	                  <option value="Al-Khor">Al-Khor</option>
	                  <option value="Al-Wukair">Al-Wukair</option>
	                  <option value="AbuHamour">Abu Hamour</option>
	                  <option value="dafna">Dafna</option>
	                  <option value="duhail">Duhail</option>
	                  <option value="rayyan">Al-Rayyan</option>
	                  <option value="gharaffa">Gharaffa</option>
	                  <option value="ummsalal">Umm Salal</option>
	                  <option value="mesaieed">Mesaieed</option>
	               </select>   
            	</div>
            	<br>
            	<div class="row">
               		<h4>Would you like to subscribe to the newsletter?</h4>
               		<br>
               		<input type="radio" name="yes"/>
            	</div>
            	<br>
            	<div id="submit">
               		<button type="submit">Submit</button>
            	</div>
            	<br>
            	<div class="row">
            		<input type="reset">            		
            	</div>
            	<br>
			</fieldset>
		</form>
		<footer> 
			<img id="logo2" src="../images/footerlogo.png">
			<p id="footerparagraph">Rent ‘N Go, your No.1  Car Rental Provider in Klang Valley, Malaysia. We’re dedicated to providing you the best of Car, Van, Bus Rental service with a focus on Cheap & Affordable Price and also Best & Reliable Car Rentals in Malaysia. We’re working to turn our passion on Multi-Vehicle Rentals into a booming One-Stop Solution for Car Rentals. We hope you enjoy our services as much as we enjoy offering them to you.</p>
			<p id="footerCR"><strong>&#169; 2023 RENT N GO FLEET MANAGEMENT (CT0103567-V)</strong></p>
		</footer>
	</body>
</html>